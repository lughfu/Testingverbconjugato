<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Asyewi Verb Conjugator</title>
<style>
:root {
    --card-blur: 16px;
}

/* --------- BODY & THEMES --------- */
body {
    margin:0; padding:0; min-height:100vh;
    font-family: system-ui,sans-serif;
    display:flex; justify-content:center; align-items:flex-start;
    transition: background 0.6s, color 0.6s;
    color: #222;
}

body.pink {
    background: linear-gradient(135deg,#ffc0cb,#ffa6c9,#ff8cc7,#ff73c5,#ff59c2);
    --accent: #ff69b4;
    --text-color: #222;
    --glow: rgba(255,105,180,0.35);
}
body.blue {
    background: linear-gradient(135deg,#06162f,#0a2a4a,#123b6c,#1e4c8f,#2c5faf);
    --accent: #1f6bff;
    --text-color: #eef6ff;
    --glow: rgba(31,107,255,0.25);
}
body.green {
    background: linear-gradient(135deg,#264d25,#3f7a45,#62a867,#85c77e,#b3e39b);
    --accent: #4caf50;
    --text-color: #222;
    --glow: rgba(76,175,80,0.25);
}

/* --------- CONTAINER --------- */
.container { width:90%; max-width:900px; margin:40px auto; }

header { display:flex; justify-content:space-between; align-items:center; margin-bottom:16px; }
h1 { margin:0; font-size:1.8rem; color: var(--text-color); }

button {
    border:none; border-radius:999px; padding:8px 16px;
    cursor:pointer; color:white; font-weight:600; font-size:1rem;
    transition:0.25s;
}
button:hover { transform:scale(1.05); }

input {
    width:100%; padding:12px; font-size:1rem;
    border-radius:12px; border:none; margin:16px 0; box-sizing:border-box;
    background: rgba(255,255,255,0.12); color: inherit;
}

/* --------- FROSTED GLASS CARD --------- */
.card {
    background: rgba(255,255,255,0.10);
    backdrop-filter: blur(var(--card-blur));
    border-radius:18px; padding:16px; margin-top:20px;
    box-shadow:0 6px 20px var(--glow);
    transition: background 0.5s, box-shadow 0.5s;
}
.card:hover {
    box-shadow:0 10px 40px var(--glow);
}

table { width:100%; border-collapse:collapse; margin-top:12px; border-radius:12px; overflow:hidden; }
th, td { padding:10px 8px; text-align:center; }
th { background: rgba(255,255,255,0.25); color:white; font-weight:600; }
tr:nth-child(even){ background: rgba(255,255,255,0.08); }
tr:nth-child(odd){ background: rgba(255,255,255,0.04); }

.error { color:crimson; font-weight:bold; margin-top:16px; }
</style>
</head>
<body class="pink">
<div class="container">
<header>
    <h1>Asyewi Verb Conjugator</h1>
    <button id="themeButton">ðŸŒˆ Change Theme</button>
</header>

<input id="verbInput" placeholder="Enter infinitive verb (e.g. kataba)">
<button id="conjugateButton">Conjugate</button>
<div id="output"></div>
</div>

<script>
const themes=["pink","blue","green"];
let themeIndex=0;

function updateButtonColors(){
    const accent=getComputedStyle(document.body).getPropertyValue("--accent");
    const buttons=[document.getElementById("themeButton"),document.getElementById("conjugateButton")];
    buttons.forEach(btn=>btn.style.background=accent);
}

/* -------------------- THEME SWITCHING -------------------- */
document.getElementById("themeButton").addEventListener("click",()=>{
    document.body.classList.remove(themes[themeIndex]);
    themeIndex=(themeIndex+1)%themes.length;
    document.body.classList.add(themes[themeIndex]);
    updateButtonColors();
});

/* -------------------- CONJUGATION -------------------- */
const VOWELS="aeiou";
const PRONOUNS={"I":"","You":"y","He":"t","She":"t","It":"w","We":"n","Yâ€™all":"f","They":"l"};

function extractRoot(verb){
    const root=[...verb].filter(c=>!VOWELS.includes(c));
    if(root.length!==2 && root.length!==3) throw "Verb must have 2 or 3 consonants.";
    return root;
}

function base(root,fem,tense){
    if(root.length===3){
        const [c1,c2,c3]=root;
        if(tense==="present") return `${c1}${fem?'i':'a'}${c2}${c3}${fem?'i':'a'}`;
        if(tense==="past") return `${fem?'i':'a'}${c1}${c2}${fem?'i':'a'}${c3}`;
        if(tense==="future") return `a${c1}${c2}i${c3}`;
    } else {
        const [c1,c2]=root;
        if(tense==="present") return `${c1}${fem?'i':'a'}${c2}${fem?'i':'a'}`;
        if(tense==="past") return `${fem?'i':'a'}${c1}${fem?'i':'a'}${c2}`;
        if(tense==="future") return `a${c1}i${c2}`;
    }
}

function buildTable(title,rows){
    let html=`<div class="card"><h3>${title}</h3><table><tr><th>Pronoun</th><th>Form</th></tr>`;
    for(let [p,f] of rows) html+=`<tr><td>${p}</td><td>${f}</td></tr>`;
    html+="</table></div>";
    return html;
}

document.getElementById("conjugateButton").addEventListener("click",()=>{
    const out=document.getElementById("output"); out.innerHTML="";
    try{
        const verb=document.getElementById("verbInput").value.trim().toLowerCase();
        const root=extractRoot(verb);
        out.innerHTML+=`<div class="card"><h3>Verb: ${verb}</h3><p>Root: ${root.join("-")}</p></div>`;

        ["Masculine","Feminine"].forEach((g,i)=>{
            let rows=[]; let baseForm=base(root,i===1,"present");
            for(let p in PRONOUNS){
                if((p==="He"&&g==="Feminine")||(p==="She"&&g==="Masculine")) rows.push([p,"-"]);
                else rows.push([p,baseForm+PRONOUNS[p]]);
            }
            out.innerHTML+=buildTable(`Present (${g})`,rows);
        });

        ["Masculine","Feminine"].forEach((g,i)=>{
            let rows=[]; let baseForm=base(root,i===1,"past");
            for(let p in PRONOUNS){
                if((p==="He"&&g==="Feminine")||(p==="She"&&g==="Masculine")) rows.push([p,"-"]);
                else rows.push([p,p==="I"?baseForm:PRONOUNS[p]+baseForm]);
            }
            out.innerHTML+=buildTable(`Past (${g})`,rows);
        });

        let rows=[]; let baseForm=base(root,false,"future");
        for(let p in PRONOUNS) rows.push([p,PRONOUNS[p]+baseForm]);
        out.innerHTML+=buildTable("Future",rows);

    }catch(e){
        out.innerHTML=`<div class="error">${e}</div>`;
    }
});

// Initialize button colors on page load
updateButtonColors();
</script>
</body>
</html>
